<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="icon" href="./favicon.svg">
</head>
<body>
    <div class="header">
        <h1>Popover API</h1>
    </div>

    <section>
        <h2>Basic use</h2>

        <button popovertarget="basic-popover">Toggle first popover</button>
        <div id="basic-popover" class="popover" popover>
            <div class="popover-content">
                <h2>First popover</h2>
                <ul>
                    <li>This div uses the CSS <b>popover</b> attribute</li>
                    <li>It appears in the top layer (no need for z-index: 9999)</li>
                    <li>It is connected to a button or an input by adding the <b>popovertarget</b> attribute <br> to the button/input and passing it the popover's id</li>
                    <li>Since it's rendered in the top layer, a <b>::backdrop</b> pseudo-element is rendered behind it</li>
                </ul>
            </div>
        </div>

        <button popovertarget="second-basic-popover">Toggle second popover</button>
        <div id="second-basic-popover" class="popover" popover>
            <div class="popover-content">
                <h2>Second popover</h2>
                <ul>
                    <li>This div uses the CSS <b>popover</b> attribute</li>
                    <li>It appears in the top layer (no need for z-index: 9999)</li>
                    <li>It is connected to a button or an input by adding the <b>popovertarget</b> attribute <br> to the button/input and passing it the popover's id</li>
                    <li>Since it's rendered in the top layer, a <b>::backdrop</b> pseudo-element is rendered behind it</li>
                </ul>
            </div>
        </div>
    </section>

    <section>
        <h2>Animation</h2>

        <button popovertarget="animated-popover">Toggle animated popover</button>
        <div id="animated-popover" class="animated-popover popover" popover>
            <div class="popover-content">
                <h2>Animated popover</h2>
                <ul>
                    <li>Using popover's <b>:popover-open</b> state we can add animations to the popover itself</li>
                    <li>We can determine the element's style before animating in by using <b>@starting-style</b></li>
                    <li><b>allow-discrete</b> allows us to animate to and from <b>display: none</b></li>
                </ul>
            </div>
        </div>
    </section>

    <section>
        <h2>Show/hide</h2>

        <button popovertarget="toggle-popover" popovertargetaction="show">Show popover</button>
        <button popovertarget="toggle-popover" popovertargetaction="hide">Hide popover</button>
        <div id="toggle-popover" class="popover" popover>
            <div class="popover-content">
                <h2>Show/hide popover</h2>
                <ul>
                    <li>By setting a button's <b>popovertargetaction</b> attribute we can change how it interacts with the popover</li>
                    <li>It is set to <b>toggle</b> by default, and the other 2 values are <b>show</b> and <b>hide</b></li>
                </ul>
            </div>
        </div>
    </section>

    <section>
        <h2>Manual</h2>

        <button popovertarget="manual-popover" popovertargetaction="show">Open manual popover</button>
        <div id="manual-popover" class="popover" popover="manual">
            <div class="popover-content">
                <div class="close-button-container">
                    <button
                        class="close-button"
                        popovertarget="manual-popover"
                        popovertargetaction="hide">
                        <span aria-hidden=”true”>Close</span>
                    </button>
                </div>
                <h2>Manual popover</h2>
                <ul>
                    <li><b>popover</b> has a default value of <b>auto</b>, which enables it to use light dismiss by default</li>
                    <li>It can also be set to <b>manual</b>, which disables light dismiss and enables popover nesting</li>
                </ul>

                <button popovertarget="nested-popover">Open the nested popover</button>
            </div>
        </div>

        <div id="nested-popover" class="popover" popover="manual">
            <div class="popover-content">
                <div class="close-button-container">
                    <button
                        class="close-button"
                        popovertarget="nested-popover"
                        popovertargetaction="hide">
                        <span aria-hidden=”true”>Close</span>
                    </button>
                </div>

                <h2>Nested popover</h2>
                <ul>
                    <li>Nested inside the first manual popover</li>
                </ul>
            </div>
        </div>
    </section>

    <section>
        <h2>ToggleEvent</h2>

        <button popovertarget="toggle-event-popover" popovertargetaction="toggle">Toggle the popover</button>
        <span>This popover is currently <span id="toggle-event-popover-indicator">closed</span></span>
        <div id="toggle-event-popover" class="popover" popover>
            <div class="popover-content">
                <h2>ToggleEvent popover</h2>
                <ul>
                    <li>The <b>ToggleEvent</b> interface represents an event notifying the user when a popover element's state toggles between showing and hidden</li>
                    <li>It provides us with <b>newState</b> and <b>oldState</b> which are strings with values of either <i>open</i> or <i>closed</i></li>
                    <li>This interface can be used with the <b>beforetoggle</b> and <b>toggle</b> events, which fire when the popover changes state</li>
                </ul>
            </div>
        </div>
    </section>

    <section>
        <h2>Instance methods</h2>

        <button id="toggle">Toggle popover</button>
        <div id="toggle-method-popover" class="popover" popover="manual">
            <div class="popover-content">
                <h2>Toggle popover</h2>
                <ul>
                    <li>Using the <b>togglePopover()</b> method on an HTMLElement which has a valid popover attribute toggles the popover</li>
                </ul>
            </div>
        </div>

        <button id="show">Show popover</button>
        <button id="hide">Hide popover</button>
        <div id="show-hide-method-popover" class="popover" popover="manual">
            <div class="popover-content">
                <h2>Show/hide popover</h2>
                <ul>
                    <li>Using the <b>showPopover()</b> method on an HTMLElement which has a valid popover attribute opens the popover</li>
                    <li>Using the <b>hidePopover()</b> method on an HTMLElement which has a valid popover attribute opens the popover</li>
                </ul>
            </div>
        </div>

        <button id="hover">Hover over me</button>
        <div id="hover-method-popover" class="popover" popover="manual">
            <div class="popover-content">
                <h2>Hover popover</h2>
                <ul>
                    <li>Using a combination of <b>showPopover()</b> and <b>hidePopover()</b> we can show a popover when hovering over an input</li>
                    <li>Note that the <b>popover</b> attribute is set to <i>manual</i> to disable light dismiss when clicking the button</li>
                </ul>
            </div>
        </div>
    </section>

    <section>
        <h2>Anchor</h2>
        <button id="anchor-button" popovertarget="tooltip">Anchor button</button>
        <div id="tooltip" popover="manual" class="popover tooltip">
            <div class="popover-content">
                <h2>Popover tooltip</h2>
                <ul>
                    <li>By assigning an <b>anchor-name</b> to a button we can make it an anchor</li>
                    <li>By adding <b>position-anchor</b> to a popover we connect it to the anchor</li>
                    <li>By setting in <b>inset-area</b> we determine the popover's position in relation to the anchor</li>
                    <li>If <b>inset-area</b> is set to <i>top</i> or <i>bottom</i> the width of the tooltip matches the width of the input</li>
                </ul>
            </div>
        </div>
    </section>

    <section>
        <h2>Useful links</h2>
        <ul>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Popover_API">Popover API documentation</a></li>
            <li><a href="https://www.youtube.com/watch?v=EB6dJTx9t54">Una Kravets - Better, Faster, Stronger Web UI</a></li>
            <li><a href="https://anchor-tool.com/">Anchor position tool</a></li>
            <li><a href="https://github.com/MarinTeskera/popover-api-standup">Github repository</a></li>
        </ul>
    </section>

    <script type="module" src="./scripts/index.js"></script>
</body>

</html>